TITLE: X-Ray Engine 1.6 task list

Legend
------
- Planned
* In progress
+ Done
o On hold
? Decision pending
c Canceled

--------------------------------

nitrocaster: Pavel Kovalenko
+ get rid of STLPort
- Mgc::Math::PI (MgcMath.h) conflicts with PI macro
- try to remove OpenAL from repository
- remove lzo and other compression libs from repository
- get the entire solution compiled with ForceConformanceInForLoopScope=false
- get rid of atimgpu, use amd ags instead (will also eliminate LNK4098)
- scan solution with PVS-Studio and fix found bugs
- Modules
  - subdivide xrGame into multiple modules (so changed code could be compiled faster)
  - merge xrCPU_Pipe into xrCore
  - merge xrAPI into xrCore
  - merge xrXMLParser into xrCore
  - merge crypto into xrCore
- 3rd party libraries
  - detach/update ODE
    - dig through current ODE and analyze changes that were made by GSC
    - get the latest ODE and make sure it can be used with xray
  - remove openssl code from crypto, use it as external library
- known bugs
  - generic
    - stackoverflow when starting with too long command line
    - stackoverflow when game directory contains too many files (_alloca)
      - can me improved (get rid of recursive directory traversal)
      - exclude $app_data_root$/logs and $app_data_root$/screenshots from index
    - GetColorFromText bug
    - (bytes_need<=mSize) && vl_Count
    - "! tab named [1] doesnt exist"
  - core
    + xrMemory::mem_usage -> mem_usage_impl falls into infinite loop or finds bad nodes
    - buffer overflow when copying command line to Core.Params
    - misplaced arguments in calls to xrDebug::backend
  - multiplayer
    - xrGameSpy: fix master server name (gamespy is down)
    - dedicated server
      - known multiple vulnerabilities (verify)
        - dirtysky
        - stalkazz
        - stalkerbof
        - stalkerboom
    - voting for weather: rainy/cloudy buttons are mixed up
  - render
    + dx10StateUtils::ValidateState(D3D_DEPTH_STENCIL_DESC&) doesn't initialize passed D3D_DEPTH_STENCIL_DESC with
      proper default values when DepthEnable flag is false. Because of this incorrect initialization previously created
      state cannot be found, so renderer creates it over and over.
      Link ref: http://msdn.microsoft.com/en-us/library/windows/desktop/bb205036(v=vs.85).aspx
    + D3D11Shader.h from DirectX SDK conflicts with one from Windows SDK
  - physics
    - falling actor can continue being in falling state under specific conditions
  - plugins
    + fix LW and Max exporters (seem to be broken by GSC)
    - update plugins for new Max/Maya versions
- improvements
  - multiplayer
    - use GSC server instead of GameSpy one
  	- ipv6 support
    - get rid of DirectPlay
    - log suspicious packets and kick/ban its senders after X attempts
    - dedicated server
      + fix lights_hanging_lamp class name in system.ltx (used 'SO_HLAMP', should be 'O_HLAMP')
      - remove unnecessary modules initialization (render/sound/etc...)
      - use standard windows unput instead of DirectInput (causes problems on dedicated servers)
      - console (remove GUI and use separate administrative tool?)
      - remove topmost startup logo window
      - Linux support
  - xrCore
    - get rid of old blackbox code
    - refactor xrDebug
    - logger
      - don't keep log in std::vector, write to log file immediately
      - tweak CConsole to use new logger
  - render
    - FXAA
    - glow material doesn't cast shadows (causes artefacts on actor shadow)
- disable accel when falling (more realistic)
- multiplayer weather: misplaced rainy/cloudy
- log messages
  - fix log messages format (normally, the 'color' character should be followed by a space)

STALKER_2010: Andrew Boyarshin
* detach/update LuaJIT
* detach/update LuaBind

awdavies: Andrew Davies
- cleanup
  * Get rid of deprecation compiler warnings.
  * Remove macro redefinitions.
- engine
  - multithreading (order listed is order of completion).
    - research
      - Determine where multithreading could benefit potential performance bottlenecks.
      - Examine bottlenecks with profiler.  Document results.
      - Designate which tasks should be assigned to which cores.
    - implementation (edit as research gets closer to completion for more accurate plan).
      - Include library capable of creating light-weight kernel-visible threads.
      - Abstract specific tasks to certain cores.
      - Add thread pool/scheduler for tasks.
      - Run profiler again (might need to find one capable of tracking multiple threads).

Highflex: Alex M
- plugins/content creation
  * Update Primary DCC Tools ( Maya )
  - Optimize pipeline for asset converting ( direct export to game? )
  - Python scripts for stalker skeleton control rig creation
- game code
  - Improve Weapon System ( Additional Animations, Options )
